#!/bin/bash
set -e

echo "=== Debug Hook Start ==="
echo "Current user: $(whoami)"
echo "Current directory: $(pwd)"
echo "PATH: $PATH"
echo "Shell: $SHELL"

# Check for package managers
echo "Checking for package managers..."
which apt 2>/dev/null && echo "apt found at: $(which apt)" || echo "apt not found"
which apt-get 2>/dev/null && echo "apt-get found at: $(which apt-get)" || echo "apt-get not found"

# Try to locate apt
echo "Looking for apt..."
ls -la /usr/bin/apt* 2>/dev/null || echo "No apt in /usr/bin"
ls -la /bin/apt* 2>/dev/null || echo "No apt in /bin"

# Check OS
echo "OS Information:"
cat /etc/os-release

echo "=== Debug Hook End ==="