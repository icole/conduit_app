<!-- Main Content Grid -->
<div class="grid grid-2 mb-4" data-controller="posts">
  <!-- Community Wall -->
  <div class="card">
    <div class="card-header">
      <h2 class="card-title">Community Wall</h2>
      <button class="btn btn-primary btn-small" data-action="click->posts#showForm">New Post</button>
    </div>

    <!-- HOTWIRE: New post form will be a Turbo Frame -->
    <div id="new-post-form" class="<%= 'hidden' unless @post.errors.any? %>">
      <%= render "posts/form", post: @post %>
    </div>

    <!-- HOTWIRE: Posts will stream in real-time via Turbo Streams -->
    <div id="community-posts">
      <% if @posts.any? %>
        <%= render @posts %>
      <% else %>
        <div class="text-center p-4 text-gray">
          <p>No posts yet. Be the first to share something with the community!</p>
        </div>
      <% end %>
    </div>
  </div>

  <!-- Quick Actions & Notifications -->
  <div>
    <!-- Upcoming Events -->
    <div class="card mb-2">
      <div class="card-header">
        <h3 class="card-title">Upcoming Events</h3>
      </div>
      <div id="event-feed">
        <p class="text-center p-4 text-gray">No events yet.</p>
      </div>
    </div>

    <!-- Tasks -->
    <div class="card mb-2">
      <div class="card-header">
        <h3 class="card-title">Task Items</h3>
      </div>
      <div id="event-feed">
        <p class="text-center p-4 text-gray">No tasks assigned yet.</p>
      </div>
    </div>
  </div>
</div>