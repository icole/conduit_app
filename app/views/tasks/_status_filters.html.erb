<% active_count = Task.active.count %>
<% backlog_count = Task.backlog.count %>
<div class="inline-flex rounded-lg border border-base-300 p-0.5 bg-base-100">
  <%= link_to tasks_path(view: "active", assigned_to: params[:assigned_to]),
      class: "btn btn-sm h-8 min-h-0 px-2 sm:px-3 gap-1 #{@current_view == 'active' ? 'btn-primary' : 'btn-ghost'}",
      data: { turbo_frame: "tasks_content" } do %>
    <span>Active</span>
    <% if active_count > 0 %>
      <span class="<%= @current_view == 'active' ? 'badge badge-xs bg-white text-primary border-0 font-semibold' : 'badge badge-xs badge-primary' %>"><%= active_count %></span>
    <% end %>
  <% end %>
  <%= link_to tasks_path(view: "backlog", assigned_to: params[:assigned_to]),
      class: "btn btn-sm h-8 min-h-0 px-2 sm:px-3 gap-1 #{@current_view == 'backlog' ? 'btn-primary' : 'btn-ghost'}",
      data: { turbo_frame: "tasks_content" } do %>
    <span>Backlog</span>
    <% if backlog_count > 0 %>
      <span class="<%= @current_view == 'backlog' ? 'badge badge-xs bg-white text-primary border-0 font-semibold' : 'badge badge-xs badge-primary' %>"><%= backlog_count %></span>
    <% end %>
  <% end %>
  <%= link_to tasks_path(view: "completed", assigned_to: params[:assigned_to]),
      class: "btn btn-sm h-8 min-h-0 px-2 sm:px-3 #{@current_view == 'completed' ? 'btn-primary' : 'btn-ghost'}",
      data: { turbo_frame: "tasks_content" } do %>
    <span>Done</span>
  <% end %>
</div>
